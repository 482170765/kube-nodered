<script type="text/javascript">
    RED.nodes.registerType('decisiontree', {
        category: 'autoAI pipeline',
        color: '#2E8B57',
        defaults: {
            name: {value:""},
            max_depth : {value:"None", required:true},
            criterion : {value:"gini", required:true},
            splitter : {value:"best", required:true},
            min_samples_split : {value:"2", required:true},
            min_samples_leaf : {value:"1", required:true},
        },
        inputs:1,
        outputs:1,
        icon: "font-awesome/fa-tree",
        label: function() {
            return this.name || "decisiontree";
        },
        oneditprepare: function() {
            $("#node-input-max_depth").val(this.max_depth);
            $("#node-input-name").val(this.name);
            $("#node-input-criterion").val(this.criterion);
            $("#node-input-splitter").val(this.splitter);
            $("#node-input-min_samples_split").val(this.min_samples_split);
            $("#node-input-min_samples_leaf").val(this.min_samples_leaf);
        }
    });
</script>


<script type="text/x-red" data-template-name="decisiontree">
    <div class="form-row">
        <label for="node-input-name">Name</label>
        <input type="text" id="node-input-name" placeholder="Name" />
    </div>
    <div class="form-row">
        <label for="node-input-max_depth" id="max_depth"
          ><i class="fa"></i>Max Depth
        </label>
        <input type="number" min="1" id="node-input-max_depth" placeholder="None" />
    </div>
    <div class="form-row">
        <label for="node-input-min_samples_split" id="min_samples_split"
          ><i class="fa"></i>min_samples_split
        </label>
        <input type="number" min="2" step="0.1" id="node-input-min_samples_split" style="width: 306px; margin-left: 23px;"  />
    </div>
    <div class="form-row">
        <label for="node-input-min_samples_leaf" id="min_samples_leaf"
          ><i class="fa"></i>min_samples_leaf
        </label>
        <input type="number" min="1" step="0.1" id="node-input-min_samples_leaf" style="width: 309px; margin-left: 20px;" />
    </div>
    <div class="form-row">  
        <label for="node-input-criterion">Criterion</label>
        <select id="node-input-criterion">
            <option value="gini">gini</option>
            <option value="entropy">entropy</option>
            <option value="log_loss">log_loss</option>
        </select>
    </div>
    <div class="form-row">  
        <label for="node-input-splitter">Splitter</label>
        <select id="node-input-splitter">
            <option value="random">random</option>
            <option value="best">best</option>
        </select>
    </div>
    <div class="form-tips">
        <p>
          For more details about parameter using in classifier, see <a href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html" target="_blank" rel="noopener noreferrer">this documentation</a>.
        </p>
    </div>
</script>

<script type="text/x-red" data-help-name="decisiontree">
    <p>Algorithm for datasets</p>
</script>

