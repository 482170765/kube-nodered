const fs = require('fs');
const util = require('util');
const snippets = require('../snippets');

module.exports = function(RED) {
    function DecisionTree(config) {
        RED.nodes.createNode(this,config);
        var node = this;
        var max_depth = config.max_depth;
        var criterion = config.criterion;
        var splitter = config.splitter;
        var min_samples_split = config.min_samples_split;
        var min_samples_leaf = config.min_samples_leaf;
        var script = '';
        node.on('input', function(msg) {
            script += util.format(snippets.DECISIONTREE, criterion, splitter, max_depth, min_samples_split, min_samples_leaf);
            msg.payload += script;
            node.send(msg);
                 
        });
    }
    RED.nodes.registerType("decisiontree", DecisionTree);
}






